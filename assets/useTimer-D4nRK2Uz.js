import{i as J,g as ve,o as Q,w as pe,h as ae,j as q,k as ye,l as ge,m as ee,n as E,p as te,q as Z,s as he,v as be,x as Ce,y as we,N as H,z as oe,A as X,d as Y,e as z,P as j,B as T,C as Ee,D as Te,E as ke,G as se,H as Se,f as A,c as K,a as C,I as S,u as t,t as U,J as h,K as x,L as Ie,M as Me,O as G,Q as ie,R as re,S as _e,T as Be,U as De,V as ne,r as w,W as Le,X as $e,Y as Pe,Z as Ae,$ as Oe,a0 as le,a1 as Fe,a2 as Ne,a3 as ze,a4 as Ye,a5 as Re,a6 as Ve,a7 as We,a8 as Ue,a9 as Xe,aa as xe,ab as He,ac as je,ad as Ke,_ as qe}from"./index-CRLgQtT8.js";import{E as Ze}from"./button-D-uwqjGw.js";import{U as ce,u as Ge}from"./use-form-item-A_3nZlVS.js";let W;const Je=e=>{var s;if(!J)return 0;if(W!==void 0)return W;const o=document.createElement("div");o.className=`${e}-scrollbar__wrap`,o.style.visibility="hidden",o.style.width="100px",o.style.position="absolute",o.style.top="-9999px",document.body.appendChild(o);const u=o.offsetWidth;o.style.overflow="scroll";const n=document.createElement("div");n.style.width="100%",o.appendChild(n);const a=n.offsetWidth;return(s=o.parentNode)==null||s.removeChild(o),W=u-a,W},Qe=(...e)=>s=>{e.forEach(o=>{ve(o)?o(s):o.value=s})},eo=(e,s,o,u)=>{let n={offsetX:0,offsetY:0};const a=d=>{const m=d.clientX,b=d.clientY,{offsetX:g,offsetY:v}=n,p=e.value.getBoundingClientRect(),k=p.left,f=p.top,O=p.width,I=p.height,R=document.documentElement.clientWidth,V=document.documentElement.clientHeight,F=-k+g,M=-f+v,_=R-k-O+g,B=V-f-I+v,D=i=>{let $=g+i.clientX-m,N=v+i.clientY-b;u!=null&&u.value||($=Math.min(Math.max($,F),_),N=Math.min(Math.max(N,M),B)),n={offsetX:$,offsetY:N},e.value&&(e.value.style.transform=`translate(${q($)}, ${q(N)})`)},L=()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",L)};document.addEventListener("mousemove",D),document.addEventListener("mouseup",L)},l=()=>{s.value&&e.value&&s.value.addEventListener("mousedown",a)},r=()=>{s.value&&e.value&&s.value.removeEventListener("mousedown",a)},c=()=>{n={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return Q(()=>{pe(()=>{o.value?l():r()})}),ae(()=>{r()}),{resetPostion:c}},oo=(e,s={})=>{ye(e)||ge("[useLockscreen]","You need to pass a ref param to this function");const o=s.ns||ee("popup"),u=E(()=>o.bm("parent","hidden"));if(!J||te(document.body,u.value))return;let n=0,a=!1,l="0";const r=()=>{setTimeout(()=>{we(document==null?void 0:document.body,u.value),a&&document&&(document.body.style.width=l)},200)};Z(e,c=>{if(!c){r();return}a=!te(document.body,u.value),a&&(l=document.body.style.width),n=Je(o.namespace.value);const d=document.documentElement.clientHeight<document.body.scrollHeight,m=he(document.body,"overflowY");n>0&&(d||m==="scroll")&&a&&(document.body.style.width=`calc(100% - ${n}px)`),be(document.body,u.value)}),Ce(()=>r())},ue=e=>{if(!e)return{onClick:H,onMousedown:H,onMouseup:H};let s=!1,o=!1;return{onClick:l=>{s&&o&&e(l),s=o=!1},onMousedown:l=>{s=l.target===l.currentTarget},onMouseup:l=>{o=l.target===l.currentTarget}}},to=oe({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:X([String,Array,Object])},zIndex:{type:X([String,Number])}}),so={click:e=>e instanceof MouseEvent},no="overlay";var lo=Y({name:"ElOverlay",props:to,emits:so,setup(e,{slots:s,emit:o}){const u=ee(no),n=c=>{o("click",c)},{onClick:a,onMousedown:l,onMouseup:r}=ue(e.customMaskEvent?void 0:n);return()=>e.mask?z("div",{class:[u.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:l,onMouseup:r},[T(s,"default")],j.STYLE|j.CLASS|j.PROPS,["onClick","onMouseup","onMousedown"]):Ee("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[T(s,"default")])}});const ao=lo,de=Symbol("dialogInjectionKey"),fe=oe({center:Boolean,alignCenter:Boolean,closeIcon:{type:Te},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),io={close:()=>!0},ro=Y({name:"ElDialogContent"}),co=Y({...ro,props:fe,emits:io,setup(e,{expose:s}){const o=e,{t:u}=ke(),{Close:n}=_e,{dialogRef:a,headerRef:l,bodyId:r,ns:c,style:d}=se(de),{focusTrapRef:m}=se(Se),b=E(()=>[c.b(),c.is("fullscreen",o.fullscreen),c.is("draggable",o.draggable),c.is("align-center",o.alignCenter),{[c.m("center")]:o.center}]),g=Qe(m,a),v=E(()=>o.draggable),p=E(()=>o.overflow),{resetPostion:k}=eo(a,l,v,p);return s({resetPostion:k}),(f,O)=>(A(),K("div",{ref:t(g),class:S(t(b)),style:ie(t(d)),tabindex:"-1"},[C("header",{ref_key:"headerRef",ref:l,class:S([t(c).e("header"),{"show-close":f.showClose}])},[T(f.$slots,"header",{},()=>[C("span",{role:"heading","aria-level":f.ariaLevel,class:S(t(c).e("title"))},U(f.title),11,["aria-level"])]),f.showClose?(A(),K("button",{key:0,"aria-label":t(u)("el.dialog.close"),class:S(t(c).e("headerbtn")),type:"button",onClick:I=>f.$emit("close")},[z(t(Me),{class:S(t(c).e("close"))},{default:h(()=>[(A(),x(Ie(f.closeIcon||t(n))))]),_:1},8,["class"])],10,["aria-label","onClick"])):G("v-if",!0)],2),C("div",{id:t(r),class:S(t(c).e("body"))},[T(f.$slots,"default")],10,["id"]),f.$slots.footer?(A(),K("footer",{key:0,class:S(t(c).e("footer"))},[T(f.$slots,"footer")],2)):G("v-if",!0)],6))}});var uo=re(co,[["__file","dialog-content.vue"]]);const fo=oe({...fe,appendToBody:Boolean,appendTo:{type:X([String,Object]),default:"body"},beforeClose:{type:X(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),mo={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ce]:e=>Be(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},vo=(e,s)=>{var o;const n=Ae().emit,{nextZIndex:a}=De();let l="";const r=ne(),c=ne(),d=w(!1),m=w(!1),b=w(!1),g=w((o=e.zIndex)!=null?o:a());let v,p;const k=Le("namespace",Oe),f=E(()=>{const y={},P=`--${k.value}-dialog`;return e.fullscreen||(e.top&&(y[`${P}-margin-top`]=e.top),e.width&&(y[`${P}-width`]=q(e.width))),y}),O=E(()=>e.alignCenter?{display:"flex"}:{});function I(){n("opened")}function R(){n("closed"),n(ce,!1),e.destroyOnClose&&(b.value=!1)}function V(){n("close")}function F(){p==null||p(),v==null||v(),e.openDelay&&e.openDelay>0?{stop:v}=le(()=>D(),e.openDelay):D()}function M(){v==null||v(),p==null||p(),e.closeDelay&&e.closeDelay>0?{stop:p}=le(()=>L(),e.closeDelay):L()}function _(){function y(P){P||(m.value=!0,d.value=!1)}e.beforeClose?e.beforeClose(y):M()}function B(){e.closeOnClickModal&&_()}function D(){J&&(d.value=!0)}function L(){d.value=!1}function i(){n("openAutoFocus")}function $(){n("closeAutoFocus")}function N(y){var P;((P=y.detail)==null?void 0:P.focusReason)==="pointer"&&y.preventDefault()}e.lockScroll&&oo(d);function me(){e.closeOnPressEscape&&_()}return Z(()=>e.modelValue,y=>{y?(m.value=!1,F(),b.value=!0,g.value=$e(e.zIndex)?a():g.value++,Pe(()=>{n("open"),s.value&&(s.value.scrollTop=0)})):d.value&&M()}),Z(()=>e.fullscreen,y=>{s.value&&(y?(l=s.value.style.transform,s.value.style.transform=""):s.value.style.transform=l)}),Q(()=>{e.modelValue&&(d.value=!0,b.value=!0,F())}),{afterEnter:I,afterLeave:R,beforeLeave:V,handleClose:_,onModalClick:B,close:M,doClose:L,onOpenAutoFocus:i,onCloseAutoFocus:$,onCloseRequested:me,onFocusoutPrevented:N,titleId:r,bodyId:c,closed:m,style:f,overlayDialogStyle:O,rendered:b,visible:d,zIndex:g}},po=Y({name:"ElDialog",inheritAttrs:!1}),yo=Y({...po,props:fo,emits:mo,setup(e,{expose:s}){const o=e,u=Fe();Ge({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},E(()=>!!u.title));const n=ee("dialog"),a=w(),l=w(),r=w(),{visible:c,titleId:d,bodyId:m,style:b,overlayDialogStyle:g,rendered:v,zIndex:p,afterEnter:k,afterLeave:f,beforeLeave:O,handleClose:I,onModalClick:R,onOpenAutoFocus:V,onCloseAutoFocus:F,onCloseRequested:M,onFocusoutPrevented:_}=vo(o,a);Ne(de,{dialogRef:a,headerRef:l,bodyId:m,ns:n,rendered:v,style:b});const B=ue(R),D=E(()=>o.draggable&&!o.fullscreen);return s({visible:c,dialogContentRef:r,resetPostion:()=>{r.value.resetPostion()}}),(i,$)=>(A(),x(t(Xe),{to:i.appendTo,disabled:i.appendTo!=="body"?!1:!i.appendToBody},{default:h(()=>[z(ze,{name:"dialog-fade",onAfterEnter:t(k),onAfterLeave:t(f),onBeforeLeave:t(O),persisted:""},{default:h(()=>[Ye(z(t(ao),{"custom-mask-event":"",mask:i.modal,"overlay-class":i.modalClass,"z-index":t(p)},{default:h(()=>[C("div",{role:"dialog","aria-modal":"true","aria-label":i.title||void 0,"aria-labelledby":i.title?void 0:t(d),"aria-describedby":t(m),class:S(`${t(n).namespace.value}-overlay-dialog`),style:ie(t(g)),onClick:t(B).onClick,onMousedown:t(B).onMousedown,onMouseup:t(B).onMouseup},[z(t(Re),{loop:"",trapped:t(c),"focus-start-el":"container",onFocusAfterTrapped:t(V),onFocusAfterReleased:t(F),onFocusoutPrevented:t(_),onReleaseRequested:t(M)},{default:h(()=>[t(v)?(A(),x(uo,Ve({key:0,ref_key:"dialogContentRef",ref:r},i.$attrs,{center:i.center,"align-center":i.alignCenter,"close-icon":i.closeIcon,draggable:t(D),overflow:i.overflow,fullscreen:i.fullscreen,"show-close":i.showClose,title:i.title,"aria-level":i.headerAriaLevel,onClose:t(I)}),We({header:h(()=>[i.$slots.title?T(i.$slots,"title",{key:1}):T(i.$slots,"header",{key:0,close:t(I),titleId:t(d),titleClass:t(n).e("title")})]),default:h(()=>[T(i.$slots,"default")]),_:2},[i.$slots.footer?{name:"footer",fn:h(()=>[T(i.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):G("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[Ue,t(c)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var go=re(yo,[["__file","dialog.vue"]]);const ho=xe(go),bo=e=>(je("data-v-32118e5c"),e=e(),Ke(),e),Co={class:"content"},wo=bo(()=>C("span",null,"本轮游戏您的成绩：",-1)),Eo={style:{color:"green"}},To={style:{color:"red"}},ko={class:"dialog-footer"},So=Y({__name:"RightDialog",props:{visible:Boolean,formattedElapsedTime:String,wrongCount:Number,correctCount:Number},emits:["close","update:visible"],setup(e,{emit:s}){const o=s,u=e,n=E({get(){return u.visible},set(l){o("update:visible",l)}}),a=()=>{o("close")};return(l,r)=>{const c=Ze,d=ho;return A(),x(d,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=m=>n.value=m),title:"恭喜！","append-to-body":"",width:"500","before-close":a},{footer:h(()=>[C("div",ko,[z(c,{type:"primary",onClick:a},{default:h(()=>[He(" 确认 ")]),_:1})])]),default:h(()=>[C("div",Co,[wo,C("p",Eo,"正确: "+U(e.correctCount),1),C("p",To,"错误: "+U(e.wrongCount),1),C("p",null,"用时: "+U(e.formattedElapsedTime),1)])]),_:1},8,["modelValue"])}}}),Bo=qe(So,[["__scopeId","data-v-32118e5c"]]);function Do(e=0){const s=w(e),o=w(null),u=w(""),n=E(()=>{const r=s.value;return r>=60?`${Math.floor(r/60)}分${r%60}秒`:`${r}秒`});function a(r=1e3){u.value=new Date().toLocaleTimeString(),l(),o.value=setInterval(()=>{s.value++},r)}function l(){o.value&&(clearInterval(o.value),o.value=null)}return ae(l),Q(()=>{a()}),{startTime:u,formattedElapsedTime:n,startTimer:a,stopTimer:l}}export{Bo as _,Do as u};
